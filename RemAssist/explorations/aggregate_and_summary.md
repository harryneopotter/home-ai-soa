# Inventory Exploration — Aggregate Summary

## What I asked the agents to do
I launched individual explore agents for the following directories:
- home-ai
- plan
- RemAssist
- src
- data
- logs
- test_scripts
- scripts
- test_logs
- test_tests
- templates

Each agent produced a markdown inventory report at `RemAssist/explorations/<dir>-inventory.md` describing documents, code files, imports, key API calls, scripts, and issues/duplication.

## Top-level findings (short)
1. **Keep-alive/api inconsistency (high priority)**: Critical path code uses both `/api/*` with `keep_alive` and `/v1/*` (OpenAI-compat) which can ignore `keep_alive`. This is the main risk to production latency and model pinning behavior.
2. **Doc & template duplication**: Several files duplicate or conflict across `RemAssist/` and template locations (services.html/status.html/index.html conflicts). Consolidation needed.
3. **Test structure & duplication**: Integration test scripts are valuable but should be migrated to a proper pytest structure with shared fixtures and CI integration.
4. **Logs & duplication**: Multiple services write identically named logs and model_calls.jsonl contains duplicated entries; standardization will make debugging easier.

## Actions taken (so far)
- Created `RemAssist/KEEPALIVE_REMEDIATION_PLAN.md` with an actionable three-phase plan (audit → consolidate → optional shim).
- Updated `RemAssist/NEXT_TASKS.md` to include a new Keep-Alive & API Standardization section.
- Implemented Phase 1, Task 1: Converted `home-ai/soa1/models.py` to use `/api/chat` and include `keep_alive: -1` and added unit test `test_tests/tests/test_soa1_models_keepalive.py` plus a local smoke-check script.
- Converted `home-ai/finance-agent/src/models.py` to use `/api/chat` and include `keep_alive: -1` (preserved aiohttp async usage).

## Next recommended steps
1. Run unit tests in CI (or locally with pytest) and add tests to CI to ensure the keep_alive behavior is enforced.
2. Convert other `/v1` usage selectively where pinning is needed (embedder bulk ops, other services), or document equivocation where `/v1` is fine.
3. Migrate test scripts to `tests/integration/`, consolidate utils, and add fixtures.
4. Consolidate duplicated templates and doc files (small PRs for each rename).
5. Investigate duplicate model_call entries and add guard/semantics to logging to prevent double-logging on retries.

---
Generated by Sisyphus during remediation planning and the first conversion step.